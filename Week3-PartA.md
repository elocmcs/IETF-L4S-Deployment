# Week 3 - Field Trial Instructions

Our trials continue this week, with our focus shifting to specific applications and how they are affected 
by low latency networking. 

*This week’s testing only applies if you have a Mac, iPhone, or iPad. If you use Windows and Android, you can skip this week’s formal tests.*

## Action Requested

Our focus is on Apple’s **FaceTime** application, for both iOS and Mac OS. We will need you to enable this in your device's operating 
system and then try Facetime while running a traffic generator. Feel free to skip this if it seems too complicated! 
 
What we’re trying to see is whether your FaceTime experience is affected by high network traffic volume that is competing 
with Facetime.  

### Mac Setup: 
If you run macOS, you will need to be on macOS 14 (Sonoma). If that is the case, you can turn on low latency in the 
terminal app by typing “**defaults write -g network_enable_l4s -bool true**” (copy & paste into terminal - see note) and hitting enter. 
That enables low latency packet marking.

*Note: To run the Terminal application, click the magnifying glass icon in the upper right of the screen on your Mac to search, and type terminal, then hit enter or click the terminal application. This opens what is called a ‘command line’ application for you.*

### iPhone/iPad Setup: 
If you run iOS, you will need to be on iOS 17. To turn this on in iOS you currently need to be in their developer 
program (which I suspect few of you are). If you are, go into Settings / Developer and turn on L4S.  *If you are not in the Apple Developers Program and running iOS 17 – just skip this.*


### Mac-Based Test:
If you followed the Mac directions, then make a FaceTime call while running the traffic generator (see below). 
  
### iPhone/iPad-Based Test:
If you followed the iOS directions, then make a FaceTime call with that device while running the traffic generator (see below) 
on another device.

### Download the Traffic Generator:
You can download our traffic generation tool. There is a version for [MacOS](https://github.com/jlivingood/IETF-L4S-Deployment/blob/main/iperf3-GUI-macos-10102023-v2.zip) and [Windows](https://github.com/jlivingood/IETF-L4S-Deployment/blob/main/iperf3-GUI-windows-x86_64-10102023-v2.exe). This tool will automatically generate load on your 
connection. It only runs for 5 minutes, during which you should run a Facetime call. On the Mac, you will likely 
need to give permission to this app in the System Settings / Security & Privacy, scroll down to Security and 
click “Open Anyway”. 


## ACTION: Complete Results Form
Submit this results form - https://app.smartsheet.com/b/form/8f46b4a6ba2a4bf6a53a5dc47c979730

## Report Problems Here: 
https://app.smartsheet.com/b/form/c91c06bb97914742bdf54f25e294eb07

## Notes from Apple and Reporting Issues to Them:
1. FaceTime has ECN bleaching detection and it will stop marking traffic as ECT(1) if it doesn’t get CE marks for a reasonable amount of time.
2. In case there is no bleaching and appropriate CE marks are generated by the network (so the trial is working as designed), if FaceTime doesn’t send ECT(1) traffic (verified via packet capture), then please file a bug with Apple using Feedback Assistant at https://feedbackassistant.apple.com.
